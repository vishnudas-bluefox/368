<!DOCTYPE html>
<html lang="en">

<head>
    <title>Bootstrap Example</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <!-- Google Fonts Roboto -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap" />
    <!-- MDB -->
    <link rel="stylesheet" href="css/mdb.min.css" />
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/rti.css">
    <link rel="stylesheet" href="css/center.css">
</head>

<body style="background-color: #432F70;color:white">
    <h2 class="formHeading">Right to information form</h2>
    <h4 class="formsubheading">Description</h4>
    <p class="formdescription">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Corporis, excepturi sequi! Rerum et fuga sunt asperiores architecto deserunt expedita quas, quis molestiae alias fugiat, perferendis exercitationem consequatur nesciunt, eum unde quibusdam.
        A reiciendis fugiat quia officia ipsum excepturi? Recusandae iure voluptatibus fugiat ex ullam dolor accusantium. Consectetur quis possimus doloribus.</p>


    <form action="" method="post" class="rtiform">
        <div class="personalinfo">
            <h5>Personal Details [ From: ]</h5>
            <input type="text" id="refernceid" class="form-control" placeholder="Reference id [Not Mandatory]">
            <input type="text" id="fromname" class="form-control" placeholder="Name">
            <textarea class="form-control Address" id="fromaddress" rows="3" placeholder="Address"></textarea>
        </div>
        <div class="reciptentinfo">
            <h5>Recitptent Details [ To: ]</h5>
            <input type="text" id="toname" class="form-control" placeholder="Name">
            <input type="text" id="todesignation" class="form-control" placeholder="Designation">
            <textarea class="form-control Address" id="toaddress" rows="3" placeholder="Address "></textarea>
        </div>
        <div class="form-group">
            <h5>Form</h5>
            <label for="example">Example : To Know information about student schollarships</label>
            <input type="text" id="onewordrti" class="form-control information" placeholder="Type of information you want to request">
        </div>
        <div class="questions">
            <input type="text" id="questions" class="form-control information" placeholder="Question">
        </div>
        <div class="buttons">
            <button type="button" class="add" onclick="addfield()">Add</button>
            <button type="button" class="submit" onclick="passalldata()">Submit</button>
        </div>
    </form>


    <!--bottom buttons-->
    <div class="fixed-bottom" style="background-color: #432F70; height:105px;z-index:0;">
        <div class="postbuttons fixed-bottom mb-4" style="margin:0px 20%;">
            <div class=" d-flex align-items-center justify-content-center container-fluid" style="height: 60px;">
                <button type="button" class="buttontransperent" style="margin: 0% 8%;" onclick="location.href='Newsfeed.html'">
    <i class="fas fa-book-open fa-2x"></i>
  </button>
                <button type="button" class="buttontransperent " style="margin: 0% 6%;" onclick="location.href='Questions.html'">
    <i class="fas fa-question-circle fa-2x"></i>
  </button>
                <button type="button" class="buttontransperent navbg" style="margin: 0% 6%;" onclick="window.location.href='forms.html'">
    <i class="far fa-sticky-note fa-2x"></i>
  </button>
                <button type="button" class="buttontransperent" style="margin: 0% 6%;" onclick="window.location.href='Profile.html';">
    <i class="fas fa-user-circle fa-2x"></i>
  </button>
            </div>
        </div>
    </div>




    <script>
        function addfield() {
            const questions = document.querySelector('.questions');
            const input = document.createElement('input');
            input.type = 'text';
            input.className = 'form-control information';
            input.id = "questions";
            input.placeholder = 'Question';
            questions.appendChild(input);
        }

        function passalldata() {
            const request = new XMLHttpRequest()
            const params = {
                refernceid: document.querySelector('#refernceid').value,
                fromname: document.querySelector('#fromname').value,
                fromaddress: document.querySelector('#fromaddress').value,
                toname: document.querySelector('#toname').value,
                todesignation: document.querySelector('#todesignation').value,
                toaddress: document.querySelector('#toaddress').value,
                onewordrti: document.querySelector('#onewordrti').value,

            };
            const questions = document.querySelectorAll("#questions");
            const questionsArray = [];
            for (let i = 0; i < questions.length; i++) {
                questionsArray.push(questions[i].value);
            }
            params.questions = questionsArray;

            //pass pdf params to create pdf
            request.open('POST', ' http://127.0.0.1:8000/api/pdf/rtipdf/');
            request.setRequestHeader('Content-type', 'application/json');
            request.send(JSON.stringify(params)); // Make sure to stringify
            console.log(params);

        }
    </script>
</body>

</html>